<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-spinner name="crescent" *ngIf="!user"></ion-spinner>
    <ion-title *ngIf="user">Seja bem-vindo(a), {{user.name}}! (e-mail: <b>{{user.email}}</b>)</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-list *ngIf="usersLoaded">
    <ion-card *ngFor="let u of users; let i = index">
      <ion-item lines="none">
        <ion-avatar slot="start">
          <img [src]="u.picture" alt="Imagem de Perfil" referrerpolicy="no-referrer">
        </ion-avatar>
        <ion-card-header>
          <ion-card-title>{{u.name}}{{u.email == user?.email ? ' (Você)' : null}}</ion-card-title>
          <ion-card-subtitle>{{u.email}}</ion-card-subtitle>
        </ion-card-header>
        <ion-button fill="clear">Conexões: {{u.connections.length}}</ion-button>
      </ion-item>
    </ion-card>
  </ion-list>
  <ion-spinner name="crescent" *ngIf="!usersLoaded"></ion-spinner>
</ion-content>